"use strict";(self.webpackChunkmp_react=self.webpackChunkmp_react||[]).push([[809],{7809:(n,e,t)=>{t.r(e),t.d(e,{default:()=>tn});var r=t(7528),o=t(5043),i=t(357),a=t(9356),s=t(3216),c=t(5475),d=t(9178),l=t(7154);const h="http://localhost:8080/mp/comments";class x{}x.getList=async(n,e)=>(await l.A.get("".concat(h,"/").concat(n,"/").concat(e))).data,x.post=async n=>{if(""===n.content)return"\ub0b4\uc6a9\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694!";return(await l.A.post("".concat(h,"/post"),n)).data};const p=x;var g,b,u,m,f,j,A,w,y=t(2907),k=t(7343),v=t(2637),C=t(579);const I=i.Ay.div(g||(g=(0,r.A)(["\n    width: 70%;\n    height: 100%;\n    left: 50px;\n    float: left;\n    @media screen and (max-width: 975px) {\n        width: 100%;\n        float: none;\n    }\n"]))),S=i.Ay.div(b||(b=(0,r.A)(["\n    width: 100%;\n    height: 100%;\n"]))),E=i.Ay.div(u||(u=(0,r.A)(["\n    width: 20%;\n"]))),R=i.Ay.input(m||(m=(0,r.A)(["\n    width: 300px;\n    padding: 5px 10px;\n    margin-top: 30px;\n    height: 30px;\n    border: solid 2px rgb(225, 225, 225);\n    color: rgb(129, 129, 129);\n\n    &:focus {\n        outline: none;\n    }\n\n    @media screen and (max-width: 725px) {\n        width: 200px;\n    }\n    @media screen and (max-width: 975px) {\n        width: 150px;\n    }\n"]))),L=i.Ay.div(f||(f=(0,r.A)(["\n    width: 70%;\n    text-align: start;\n    border-bottom: 1px solid rgb(235, 235, 235);\n\n"]))),z=i.Ay.button(j||(j=(0,r.A)(["\n    width: 80px;\n    height: 40px;\n    border-radius: 2px;\n    margin-left: 10px;\n    background-color: #fff;\n    color: rgb(82, 138, 207);\n    font-size: 16px;\n    font-weight: 400;\n    border: solid 2px rgb(82, 138, 207);\n    transition: all 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        background-color: rgb(82, 138, 207);;\n        color: #fff;\n    }\n"]))),N=i.Ay.button(A||(A=(0,r.A)(["\n    width: 30px;\n    height: 30px;\n    font-weight: 550;\n    border: solid 2px rgb(69, 136, 245);;\n    background-color: transparent;\n    color: rgb(69, 136, 245);\n    margin: 0 5px;\n    cursor: pointer;\n\n    &:hover {\n        background-color: rgb(69, 136, 245);\n        color: #fff;\n    }\n"]))),F=i.Ay.div(w||(w=(0,r.A)(["\n    width: 80%;\n    height: 35px;\n    display: flex;\n    justify-content: start;\n    @media screen and (max-width: 725px) {\n        width: 100%;\n    }\n"]))),O=function(n){let{userId:e}=n;const{problemId:t}=(0,s.g)(),[r,i]=(0,c.ok)(),a=r.get("commentPage"),d=(0,s.Zp)(),l=v.A.getLoginCheck(),[h,x]=(0,o.useState)(!1),[g,b]=k.Ay.useMessage(),u=n=>{g.open({type:"error",content:"".concat(n),duration:1})},m={content:"",parentId:t,writerId:e},[f,j]=(0,o.useState)(m);let A=(0,y.useQuery)([t,r.get("commentPage"),h],(async()=>{if(null!==a)return p.getList(t,a)}));return(0,C.jsxs)(I,{children:[b,(0,C.jsx)(S,{children:A.isLoading?(0,C.jsx)(C.Fragment,{}):A.data.commentList.map(((n,e)=>(0,C.jsxs)("div",{children:[(0,C.jsxs)(E,{children:[(0,C.jsx)("br",{}),(0,C.jsx)("strong",{children:n[1].displayName})]}),(0,C.jsx)("br",{}),(0,C.jsx)(L,{children:(0,C.jsx)("p",{children:n[0].content})})]},e)))}),(0,C.jsx)("br",{}),(0,C.jsx)(F,{children:A.isLoading?(0,C.jsx)(C.Fragment,{}):A.data.numList.map(((n,e)=>(0,C.jsx)(N,{onClick:()=>{d("../detail/".concat(t,"?commentPage=").concat(n))},children:n},e)))}),(0,C.jsx)(R,{value:f.content,name:"content",onChange:n=>{f[n.target.name]=n.target.value,j({...f})}}),(0,C.jsx)(z,{onClick:()=>{l?p.post(f).then((n=>{"\ub0b4\uc6a9\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694!"===n&&u(n),x(!h),j({content:"",parentId:t,writerId:e})})).catch((()=>{u("\ub313\uae00 \uc791\uc131 \uc911 \uc624\ub958 \ubc1c\uc0dd")})):u("\ub85c\uadf8\uc778\uc744 \uc548\ud558\uba74 \ub313\uae00 \uc791\uc131\uc774 \uc548\ub429\ub2c8\ub2e4!")},children:"\uc804\uc1a1"}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{})]})};var T,U,_,P,q,D,M,H,Y,Z=t(1727),J=t(2759);const Q={problemId:null,title:"",price:0,description:"",category:"",level:"",answer:0,quizFileNames:[],answerList:[],delFlag:!1,writerId:""};const X=i.Ay.img(T||(T=(0,r.A)(["\n    width: 100%;\n    border-radius: 5px;\n    margin: 40px auto;\n"]))),B=i.Ay.div(U||(U=(0,r.A)(["\n    width: 70%;\n    height: 100%;\n    float: left;\n    @media screen and (max-width : 975px) {\n        width: 100%;\n        float: none;\n    }\n    background-color: #fff;\n"]))),G=i.Ay.aside(_||(_=(0,r.A)(["\n    width: 30%;\n    height: 100%;\n    float: right;\n    background-color: #fff;\n    @media screen and (max-width : 975px) {\n        width: 100%;\n        float: none;\n    }\n"]))),K=i.Ay.aside(P||(P=(0,r.A)(["\n    width: 95%;\n    height: 430px;\n    margin: 10px auto;\n    border: 1px solid rgb(230,230,230);\n    background-color: rgb(250,250,250);\n    text-align: center;\n\n"]))),V=i.Ay.button(q||(q=(0,r.A)(["\n    height: 70px;\n    border-radius: 5px;\n    margin: 40px 0 auto;\n    background-color: rgb(82, 138, 207);\n    color: #fff;\n    font-size: 16px;\n    font-weight: 400;\n    border: none;\n    transition: all 0.3s;\n    cursor: pointer;\n    &:hover {\n        background-color: rgb(66, 116, 174);\n    }\n"]))),W=i.Ay.button(D||(D=(0,r.A)(["\n    height: 70px;\n    border-radius: 5px;\n    margin: 10px auto;\n    background-color: rgb(93, 93, 93);\n    color: #fff;\n    font-size: 16px;\n    font-weight: 400;\n    border: none;\n    transition: all 0.3s;\n    cursor: pointer;\n    &:hover {\n        background-color: rgb(66, 66, 66);\n    }\n"]))),$=i.Ay.button(M||(M=(0,r.A)(["\n    height: 70px;\n    border-radius: 5px;\n    margin: 10px auto;\n    background-color: rgb(237,98,91);\n    color: #fff;\n    font-size: 16px;\n    font-weight: 400;\n    border: none;\n    transition: all 0.3s;\n    cursor: pointer;\n    &:hover {\n        background-color: rgb(223, 79, 73);\n    }\n"]))),nn=i.Ay.input(H||(H=(0,r.A)(["\n    width: 200px;\n    padding: 5px 10px;\n    margin-top: 30px;\n    height: 30px;\n    border: solid 1.5px rgb(225, 225, 225);\n    color: rgb(161, 161, 161);\n    &:focus {\n        outline: none;\n    }\n"]))),en=i.Ay.button(Y||(Y=(0,r.A)(["\n    width: 180px;\n    padding: 5px 10px;\n    height: 50px;\n    border: none;\n    background-color: rgb(237,98,91);\n    color: #fff;\n    border-radius: 3px;\n    margin-top: 20px;\n    font-weight: 300;\n    cursor: pointer;\n    transition: all 0.3s;\n    &:hover {\n        background-color: rgb(223, 79, 73);\n    }\n"]))),tn=function(){const n=(0,s.Zp)(),{problemId:e}=(0,s.g)(),[t,r]=(0,o.useState)(Q),i=v.A.getUserId(),[l,h]=k.Ay.useMessage(),[x,p]=(0,o.useState)(0),g=v.A.getLoginCheck(),b=n=>{l.open({type:"error",content:"".concat(n),duration:1})},u=n=>{l.open({type:"success",content:"".concat(n),duration:1})},m=n=>{l.info("".concat(n))},f={problemId:e,ownerId:i},j={problemId:e,memberId:i},A={answer:x,problemId:e,memberId:i};return(0,o.useEffect)((()=>{null!=e&&d.A.getOne(e).then((n=>{let e={...n};r(e)}))}),[e]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.TJ,{children:[h,(0,C.jsxs)(a.u,{children:[(0,C.jsx)(c.N_,{to:"/",children:(0,C.jsx)("small",{children:"HOME"})}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("p",{style:{fontSize:"25px"},children:t.title}),(0,C.jsx)("br",{}),(0,C.jsx)("small",{children:t.category}),"\xa0",(0,C.jsx)("small",{children:t.level})]}),(0,C.jsx)(a.iI,{})]}),(0,C.jsx)(B,{children:(0,C.jsxs)("div",{style:{width:"95%",margin:"0 auto"},children:[(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{padding:"0 50px"},children:[(0,C.jsx)("strong",{children:"\ubb38\uc81c \uc124\uba85"}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("p",{children:t.description})]}),0!==t.quizFileNames.length?t.quizFileNames.map((n=>(0,C.jsx)(X,{src:"http://localhost:8080/mp/problems/view/".concat(n)},n))):(0,C.jsx)(X,{src:"https://placehold.co/600x400"})]})}),(0,C.jsx)(G,{children:i===t.writerId?(0,C.jsx)(K,{style:{height:"300px"},children:(0,C.jsxs)("div",{style:{width:"90%",margin:"0 auto"},children:[(0,C.jsx)(W,{style:{marginTop:"30px"},onClick:()=>(e=>{g?n("/problems/modify/".concat(e)):m("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")})(t.problemId),children:"\ubb38\uc81c \uc218\uc815\ud558\uae30"}),(0,C.jsx)($,{onClick:()=>{"string"===typeof e&&d.A.deleteOne(e,i).then((e=>{alert("\ubb38\uc81c \uc0ad\uc81c \uc644\ub8cc"),n("../".concat(t.category,"/1"))})).catch((()=>b("\uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd")))},children:"\ubb38\uc81c \uc0ad\uc81c\ud558\uae30"}),(0,C.jsxs)("h4",{className:"font-xl mt-20",children:[t.price,"C"]})]})}):(0,C.jsx)(K,{children:(0,C.jsxs)("div",{style:{width:"90%",margin:"0 auto"},children:[(0,C.jsx)(V,{onClick:()=>{g?J.A.purchaseCheck(j).then((n=>{"SUCCESS"===n?(n=>{J.A.purchase(n).then((n=>{"SUCCESS"===n?u("\ub2f5\uc9c0 \uad6c\ub9e4 \uc644\ub8cc"):"ERROR"===n&&b("\ub2f5\uc9c0 \uad6c\ub9e4 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd!")}))})(j):b("ALREADY_PURCHASED"===n?"\uc774\ubbf8 \uad6c\ub9e4\ud55c \ub2f5\uc9c0\uc785\ub2c8\ub2e4":"\ubb38\uc81c \ub4f1\ub85d \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4")})).catch((n=>{b("\uc5d0\ub7ec \ubc1c\uc0dd")})):b("\ub85c\uadf8\uc778\uc744 \uba3c\uc800 \ud574\uc8fc\uc138\uc694")},children:"\ub2f5\uc9c0 \uad6c\ub9e4\ud558\uae30"}),(0,C.jsx)(W,{onClick:()=>{g?Z.A.registerCheck(f).then((n=>{"ALREADY_EXIST"===n?b("\uc774\ubbf8 \uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00\ub41c \uc0c1\ud488\uc785\ub2c8\ub2e4"):(n=>{Z.A.register(n).then((n=>{"ERROR"===n?b("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4!"):"SUCCESS"===n&&u("\uc7a5\ubc14\uad6c\ub2c8 \ucd94\uac00 \uc644\ub8cc")}))})(f)})).catch((n=>{n("\uc7a5\ubc14\uad6c\ub2c8 \ucd94\uac00 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4")})):b("\ub85c\uadf8\uc778\uc744 \ud574\uc8fc\uc138\uc694!")},children:"\uc7a5\ubc14\uad6c\ub2c8 \ucd94\uac00"}),(0,C.jsxs)("h4",{className:"font-xl mt-20",children:[t.price,"C"]}),(0,C.jsx)("div",{children:(0,C.jsx)(nn,{type:"number",value:x,onChange:n=>p(n.target.value),name:"answer",placeholder:"\uc815\ub2f5\uc744 \ub9de\ucdb0\ubcf4\uc138\uc694!!"})}),(0,C.jsx)("div",{children:(0,C.jsx)(en,{onClick:()=>{g?J.A.answerCheck(A).then((n=>{"INCORRECT"===n?(m("\uc815\ub2f5\uc774 \uc544\ub2d9\ub2c8\ub2e4"),p(0)):"CORRECT"===n&&(u("\uc815\ub2f5\uc785\ub2c8\ub2e4! 100\ucf54\uc778 \uc9c0\uae09 \uc644\ub8cc"),p(0))})):m("\ub85c\uadf8\uc778\uc744 \uba3c\uc800 \uc9c4\ud589\ud574\uc8fc\uc138\uc694!")},children:"\uc815\ub2f5 \uc81c\ucd9c\ud558\uae30"})})]})})}),(0,C.jsx)(O,{userId:i})]})}},1727:(n,e,t)=>{t.d(e,{A:()=>a});var r=t(5558);const o="http://localhost:8080/mp/carts";class i{}i.register=async n=>(await r.A.post("".concat(o,"/register"),n)).data,i.getList=async n=>(await r.A.get("".concat(o,"?memberId=").concat(n))).data,i.delete=async(n,e)=>(await r.A.delete("".concat(o,"/delete/").concat(n,"?memberId=").concat(e))).data,i.registerCheck=async n=>(await r.A.post("".concat(o,"/register-check"),n)).data,i.deleteAll=async n=>(await r.A.delete("".concat(o,"/delete/all?memberId=").concat(n))).data;const a=i}}]);
//# sourceMappingURL=809.e6e1808e.chunk.js.map